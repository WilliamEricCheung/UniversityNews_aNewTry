@model List<News>

@{
    ViewData["Title"] = "��ҳ";
    string Title = "��ҳ";
    Layout = "_Layout";

    var BUAAList = Model.Where(n => n.UniversityName == "BUAA");
    var THUList = Model.Where(n => n.UniversityName == "THU");
    var PKUList = Model.Where(n => n.UniversityName == "PKU");
    var RUCList = Model.Where(n => n.UniversityName == "RUC");
    int rowCtrl;
    const int itemsPerRow = 3;
}

    <!--slider-->
    <!--/#home-->
    <section id="home">
        <div id="main-slider" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#main-slider" data-slide-to="0" class="active"></li>
                <li data-target="#main-slider" data-slide-to="1"></li>
                <li data-target="#main-slider" data-slide-to="2"></li>
                <li data-target="#main-slider" data-slide-to="3"></li>
            </ol>
            <div class="carousel-inner">
                <div class="item active">
                    <img class="img-responsive" src="images/slider/buaa.jpg" alt="slider">
                </div>
                <div class="item">
                    <img class="img-responsive" src="images/slider/thu.jpg" alt="slider">
                </div>
                <div class="item">
                    <img class="img-responsive" src="images/slider/ruc.jpg" alt="slider">
                </div>
                <div class="item">
                    <img class="img-responsive" src="images/slider/pku.jpg" alt="slider">
                </div>
            </div>
        </div>
    </section>

    <!--/#buaa-->
    <section id="buaa">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-9">
                    <div id="buaa-carousel" class="carousel slide" data-interval="false">
                        @*<h2 class="heading">BUAA News</h2>*@
                        <img class="UniLogo" src="~/images/mainPage/buaa_logo.jpg"/>
                        @*<a class="buaa-control-left" href="#buaa-carousel" data-slide="prev"><i class="fa fa-angle-left"></i></a>
                        <a class="buaa-control-right" href="#buaa-carousel" data-slide="next"><i class="fa fa-angle-right"></i></a>*@
                        <div class="carousel-inner">
                            <div class="item active">
                                @*<div class="row">
                                    @foreach (var item in BUAAList)
                                    {
                                        <div class="col-md-4">
                                            <div class="single-buaa">
                                                <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                                <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                            </div>
                                        </div>
                                    }
                                </div>*@
                                @{
                                    rowCtrl = 0;
                                }
                                @foreach (var item in BUAAList)
                                {
                                    if (rowCtrl % itemsPerRow == 0)
                                    {
                                        @:<div class="row">
                                    }
                                    <div class="col-md-4">
                                        <div class="single-buaa">
                                            <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                            <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                        </div>
                                    </div>
                                    if (rowCtrl % itemsPerRow == itemsPerRow - 1)
                                    {
                                        @:</div>
                                    }
                                    rowCtrl++;
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--/#thu-->
    <section id="thu">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-9">
                    <div id="thu-carousel" class="carousel slide" data-interval="false">
                        @*<h2 class="heading">THU News</h2>*@
                        <img class="UniLogo" src="~/images/mainPage/thu_logo.png" />
                        <div class="carousel-inner">
                            <div class="item active">
                                @*<div class="row">
                                    @foreach (var item in THUList)
                                    {
                                        <div class="col-md-4">
                                            <div class="single-buaa">
                                                <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                                <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                            </div>
                                        </div>
                                    }
                                </div>*@
                                @{
                                    rowCtrl = 0;
                                }
                                @foreach (var item in THUList)
                                {
                                    if (rowCtrl % itemsPerRow == 0)
                                    {
                                        @:<div class="row">
                                    }
                                    <div class="col-md-4">
                                        <div class="single-buaa">
                                            <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                            <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                        </div>
                                    </div>
                                    if (rowCtrl % itemsPerRow == itemsPerRow - 1)
                                    {
                                        @:</div>
                                    }
                                    rowCtrl++;
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--/#ruc-->
    <section id="ruc">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-9">
                    <div id="ruc-carousel" class="carousel slide" data-interval="false">
                        @*<h2 class="heading">RUC News</h2>*@
                        <img class="UniLogo" src="~/images/mainPage/ruc_logo.png" />
                        <div class="carousel-inner">
                            <div class="item active">
                                @*<div class="row">
                                    @foreach (var item in RUCList)
                                    {
                                        <div class="col-md-4">
                                            <div class="single-buaa">
                                                <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                                <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                            </div>
                                        </div>
                                    }
                                </div>*@
                                @{ 
                                    rowCtrl = 0;
                                }
                                @foreach (var item in RUCList)
                                {
                                    if (rowCtrl % itemsPerRow == 0)
                                    {
                                        @:<div class="row">
                                    }
                                    <div class="col-md-4">
                                        <div class="single-buaa">
                                            <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                            <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                        </div>
                                    </div>
                                    if (rowCtrl % itemsPerRow == itemsPerRow - 1)
                                    {
                                        @:</div>
                                    }
                                    rowCtrl++;
                                }
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>


    <!--/#pku-->
    <section id="pku">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-md-9">
                    <div id="pku-carousel" class="carousel slide" data-interval="false">
                        @*<h2 class="heading">PKU News</h2>*@
                        <img class="UniLogo" src="~/images/mainPage/pku_logo.png" />
                        <div class="carousel-inner">
                            <div class="item active">
                                @*<div class="row">
                                    @foreach (var item in PKUList)
                                    {
                                        <div class="col-md-4">
                                            <div class="single-buaa">
                                                <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                                <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                            </div>
                                        </div>
                                    }
                                </div>*@
                                @{
                                    rowCtrl = 0;
                                }
                                @foreach (var item in PKUList)
                                {
                                    if (rowCtrl % itemsPerRow == 0)
                                    {
                                        @:<div class="row">
                                    }
                                    <div class="col-md-4">
                                        <div class="single-buaa">
                                            <img class="img-responsive" src="@item.PictureUrl" alt="event-image">
                                            <a href="@item.NewsUrl"><h4>@item.Title</h4></a>
                                        </div>
                                    </div>
                                    if (rowCtrl % itemsPerRow == itemsPerRow - 1)
                                    {
                                        @:</div>
                                    }
                                    rowCtrl++;
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

  
